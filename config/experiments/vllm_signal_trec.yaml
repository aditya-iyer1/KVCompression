# vLLM signal test (LongBench trec)
# Goal: exercise transition detection across multiple KV budgets and bins,
# while staying within vLLM context limits.
#
# Usage (uv):
#   HF_TOKENIZER_MODEL=Qwen/Qwen2.5-1.5B-Instruct uv run python -m kv_transition all -c config/experiments/vllm_signal_trec.yaml

dataset:
  name: longbench
  task: trec
  seed: 1337
  n_per_bin: 25
  max_prompt_tokens: 7900

binning:
  n_bins: 4

model:
  name: ${MODEL_NAME}

engine:
  name: openai_compat
  base_url: ${BASE_URL}
  api_key_env: OPENAI_API_KEY
  request:
    timeout_s: 120

kv:
  policy: snapkv
  budgets: [1.0, 0.6, 0.2]

decoding:
  temperature: 0
  max_tokens: 16

analysis:
  seed: 1337

output:
  exp_group_id: vllm_signal_trec_v1

db:
  path: auto

